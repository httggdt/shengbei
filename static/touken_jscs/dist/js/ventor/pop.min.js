"use strict";var Pop=function(e){this.o=$.extend({},{stay:"fixed",stayPosition:"center",blurElement:null,maskColor:"#000",maskOpacity:"0.75",showSpeed:0,popZindex:999,maskCanHide:!1,beforeHandler:function(){},afterHandler:function(){}},e),this.mask=[],this.eles=[]};Pop.prototype.setPositionHd=function(e){var o=this,t=$(e),s=t.outerWidth(),i=t.outerHeight(),n=$(document).scrollTop()+$(window).height()/2;switch(o.o.stayPosition){case"center":$(e).css({position:o.o.stay,left:"50%",top:"fixed"==o.o.stay?"50%":n+"px",marginLeft:-1*Math.floor(s/2)+"px",marginTop:-1*Math.floor(i/2)+"px",zIndex:o.o.popZindex+o.eles.length+1});break;case"top":$(e).css({position:o.o.stay,left:"50%",top:"fixed"==o.o.stay?0:$(document).scrollTop()+"px",marginLeft:-1*Math.floor(s/2)+"px",zIndex:o.o.popZindex+o.eles.length+1})}},Pop.prototype.setMaskHd=function(){var e=this,o=$(document).height();e.mask.unshift($("<div>")),e.mask[0].css({display:"block",width:"100%",height:o+"px",position:"absolute",left:"0",top:"0",backgroundColor:e.o.maskColor,opacity:e.o.maskOpacity,zIndex:e.o.popZindex+e.mask.length}),$("body").append(e.mask[0]),e.o.blurElement&&$(e.o.blurElement).css({filter:"blur(5px)",webkitFilter:"blur(5px)",MozFilter:"blur(5px)",msFilter:"blur(5px)",OFilter:"blur(5px)"})},Pop.prototype.show=function(e){var o=this;o.eles.unshift($(e)),o.o.beforeHandler(o.eles[0]),o.setPositionHd(e),o.setMaskHd(),o.eles[0].fadeIn(o.o.showSpeed),o.o.maskCanHide&&o.mask[0].on("click",function(){o.hide()})},Pop.prototype.hide=function(){var e=this;return!(e.eles.length<=0)&&(e.o.blurElement&&1==e.eles.length&&$(e.o.blurElement).css({filter:"none",webkitFilter:"none",MozFilter:"none",msFilter:"none",OFilter:"none"}),e.o.afterHandler(e.eles[0]),e.eles[0].fadeOut(e.o.showSpeed),e.o.maskCanHide&&e.mask[0].off("click"),e.mask[0].remove(),e.eles.shift(),void e.mask.shift())};